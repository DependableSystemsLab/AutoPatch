#include <stdio.h>
#include <stdint.h>
#include <stddef.h>
#include <stdbool.h>

#define EINVAL 22

int z_vrfy_kscan_enable_callback(void)
{
	// I don't understand why RapidPatch has very complex patch for getting the value.
	uint32_t *gpio_driver_api_ptr_addr;
    	uint32_t *gpio_driver_api_ptr = (uint32_t *)(*gpio_driver_api_ptr_addr);
    	uint32_t *gpio_enable_callback_ptr_addr = gpio_driver_api_ptr + 4;
    	uint32_t *gpio_enable_callback_ptr = (uint32_t *)(*gpio_driver_api_ptr);

	printf("gpio_enable_callback_ptr: %u\n", *gpio_enable_callback_ptr);
	if (*gpio_enable_callback_ptr == 0) {//I change it to a pointer and now it goes into it but I cannot still change the values! I don't know why!
        	return -EINVAL;
    	}
    	return 1;
}
