#include <stdio.h>
#include <stdint.h>
#include <stddef.h>
#include <stdbool.h>
#include <inttypes.h>

#define ipSIZE_OF_ETH_HEADER			14u
#define ipSIZE_OF_IPv4_HEADER			20u
#define ipSIZE_OF_TCP_HEADER			20u

#define EINVAL 22

int prvCheckOptions(uint32_t* pxNetwork)
{

    //uint32_t* pxNetwork;
    uint64_t xDataLength = *(uint64_t*)((char *) pxNetwork + 32);
    
    uint64_t tcpLength = xDataLength - ipSIZE_OF_ETH_HEADER - ipSIZE_OF_IPv4_HEADER;
    
    printf("xDataLength = %p and %lu and tcpLength = %lu \n", (void*)pxNetwork, xDataLength , tcpLength);
    if (tcpLength < ipSIZE_OF_TCP_HEADER) {
	return -EINVAL;
    }
    return 1;
}

